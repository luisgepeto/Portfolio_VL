{"version":3,"sources":["webpack:///./src/pages/index.tsx","webpack:///./node_modules/react-scroll-into-view/dist/index.js","webpack:///./src/utils/parallax.tsx","webpack:///./src/components/item-proyectos.tsx","webpack:///./node_modules/react-feather/dist/icons/arrow-right.js"],"names":["data","location","siteData","site","siteMetadata","projectsList","proyectos","edges","map","item","_","node","key","id","even","front","seo","title","description","navPlaceholder","Wall","about","About","className","Contact","contact","wall","useRef","twoColumnWall","useState","loaded","supportsBlend","state","changeState","useEffect","window","CSS","supports","current","classList","add","spanAttrs","titleImage","style","backgroundImage","innerComponents","Fragment","capitalizeTitleOnHome","introTag","selector","type","iconRight","ref","background","src","alt","hasContactForm","api_url","api","query","e","React","default","module","exports","t","behavior","r","s","block","inline","document","querySelector","n","scrollIntoView","o","children","i","smooth","l","c","a","alignToTop","u","f","d","onClick","createElement","setTimeout","Parallax","props","getWindowHeight","w","documentElement","g","getElementsByTagName","innerHeight","clientHeight","getWindowWidth","innerWidth","clientWidth","isScrolledIntoView","element","offset","useDOM","elementTop","getBoundingClientRect","top","elementBottom","bottom","onScroll","stamp","Date","now","timestamp","canUseDom","changePercentage","percentage","getRelativePosition","getPercentage","startpos","endpos","currentpos","height","parentHeight","getNodeHeight","maxHeight","y","Math","round","createRef","this","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","render","Component","ItemProjects","animated","updateState","p","transform","min","max","fluid","frontmatter","image","childImageSharp","to","fields","slug","label","_extends","Object","assign","target","arguments","length","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","ArrowRight","_ref","_ref$color","color","_ref$size","size","rest","xmlns","width","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","x1","y1","x2","y2","points","displayName"],"mappings":"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","file":"component---src-pages-index-tsx-6ee66180f892886d1e65.js","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\"\r\nimport { graphql, PageProps } from \"gatsby\"\r\n\r\nimport { ArrowRight } from \"react-feather\"\r\nimport ScrollIntoView from \"react-scroll-into-view\"\r\n\r\nimport Layout from \"../components/layout\"\r\nimport { Button } from \"../components/ui\"\r\n\r\nimport ItemProjects from \"../components/item-proyectos\"\r\nimport { Form, Description as ContactDescription } from \"../components/contact\"\r\nimport { IndexPageQuery } from \"./__generated__/IndexPageQuery\"\r\n\r\nexport default ({ data, location }: PageProps<IndexPageQuery>) => {\r\n    const siteData = data.site.siteMetadata\r\n\r\n    const projectsList = data.proyectos.edges.map((item, _) => (\r\n        <ItemProjects\r\n            data={item.node}\r\n            key={`p-item-index-${item.node.id}`}\r\n            even={(_ + 1) % 2 === 0}\r\n        />\r\n    ))\r\n\r\n    \r\n    return (\r\n        <Layout\r\n            front={true}\r\n            seo={{\r\n                title: \"Inicio\",\r\n                description: siteData.description,\r\n            }}\r\n            navPlaceholder={false}\r\n            location={location}\r\n        >\r\n            <Wall data={siteData} />\r\n            {siteData.about !== \"\" && <About data={siteData.about} />}\r\n            <div className=\"px-4 lg:px-0\" id=\"proyectos\">\r\n                {projectsList}\r\n            </div>            \r\n            <Contact data={siteData.contact} />\r\n        </Layout>\r\n    )\r\n}\r\n\r\nconst Wall = ({ data }) => {\r\n    const wall = useRef(null)\r\n\r\n    const twoColumnWall = data.twoColumnWall\r\n\r\n    const [state, changeState] = useState({\r\n        loaded: false,\r\n        supportsBlend: false,\r\n    })\r\n\r\n    useEffect(() => {\r\n        if (window.CSS && !state.loaded) {\r\n            if (CSS.supports(\"mix-blend-mode\", \"screen\")) {\r\n                wall.current.classList.add(\"supports-blend\")\r\n                changeState({\r\n                    loaded: true,\r\n                    supportsBlend: true,\r\n                })\r\n            }\r\n        }\r\n    }, [state.loaded])\r\n\r\n    let spanAttrs: Partial<{ style: unknown }> = {}\r\n\r\n    if (!twoColumnWall && data.titleImage) {\r\n        spanAttrs.style = {\r\n            backgroundImage: `url('${data.titleImage}')`,\r\n        }\r\n\r\n    }\r\n\r\n    const innerComponents = (\r\n        <React.Fragment>\r\n            <div className=\"title bg-bg\">\r\n                <h1\r\n                    className={`text-6xl relative lg:text-7xl ${\r\n                        data.capitalizeTitleOnHome ? \"uppercase\" : \"\"\r\n                    }`}\r\n                >\r\n                    <span {...spanAttrs}></span>\r\n                    {data.title}\r\n                </h1>\r\n            </div>\r\n            <p className=\"text-lg lg:text-xl text-color-2 pt-4 lg:pt-0\">\r\n                {data.introTag}\r\n            </p>\r\n            <p className=\"text-base lg:text-lg mt-4\">{data.description}</p>\r\n            <ScrollIntoView selector=\"#proyectos\">\r\n                <Button\r\n                    title=\"PROYECTOS\"\r\n                    type=\"button\"\r\n                    iconRight={<ArrowRight />}\r\n                />\r\n            </ScrollIntoView>\r\n        </React.Fragment>\r\n    )\r\n\r\n    if (twoColumnWall) {\r\n        return (\r\n            <div\r\n                className=\"wall h-screen flex relative justify-center items-center overflow-hidden\"\r\n                ref={wall}\r\n            >\r\n                <div className=\"flex-1 lg:block absolute lg:relative w-full h-full top-0 left-0\">\r\n                    <div\r\n                        className=\"absolute left-0 top-0 w-full h-full lg:hidden\"\r\n                        style={{\r\n                            background: \"rgba(0,0,0,.75)\",\r\n                        }}\r\n                    ></div>\r\n                    <img\r\n                        src={data.titleImage}\r\n                        alt=\"\"\r\n                        className=\"h-full w-auto max-w-none lg:h-auto lg:w-full\"\r\n                    />\r\n                </div>\r\n                <div className=\"flex-1 text-center p-3 relative z-10 lg:text-left lg:pl-8 text-white lg:text-color-default\">\r\n                    {innerComponents}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div\r\n            className=\"wall h-screen flex flex-col justify-center items-center text-center\"\r\n            ref={wall}\r\n        >\r\n            {innerComponents}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst About = ({ data }) => {\r\n    return (\r\n        <div id=\"home__about\" className=\"boxed\">\r\n            <div className=\"px-4 py-20 text-center lg:py-40 lg:px-0\">\r\n                <h2 className=\"text-color-1 font-black text-5xl lg:text-6xl\">\r\n                    Acerca de mí\r\n                </h2>\r\n                <p className=\"mt-5 text-lg\">{data}</p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Contact = ({ data }) => {\r\n    const hasContactForm = data.api_url\r\n    return (\r\n        <div id=\"home__contact\" className=\"container mx-auto\">\r\n            <div className=\"pt-20 pb-10 lg:pt-40 lg:pb-20 text-center\">\r\n                <h2 className=\"text-color-1 font-black text-5xl lg:text-6xl\">\r\n                    Contacto\r\n                </h2>\r\n            </div>\r\n            <div className=\"flex flex-wrap pb-40\">\r\n                {hasContactForm && (\r\n                    <div className=\"w-full lg:w-1/2 px-4 lg:pl-2 lg:pr-6\">\r\n                        <Form api={data.api_url} />\r\n                    </div>\r\n                )}\r\n                <div\r\n                    className={`w-full ${\r\n                        hasContactForm ? \"lg:w-1/2\" : \"lg:w-2/3 mx-auto\"\r\n                    } px-6 pt-8`}\r\n                >\r\n                    <ContactDescription data={data} />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const query = graphql`\r\n    query IndexPageQuery {\r\n        site: site {\r\n            siteMetadata {\r\n                title\r\n                description\r\n                capitalizeTitleOnHome\r\n                titleImage\r\n                ogImage\r\n                twoColumnWall\r\n                introTag\r\n                description\r\n                about\r\n                contact {\r\n                    api_url\r\n                    description\r\n                    mail                    \r\n                }\r\n                social {\r\n                    name\r\n                    url\r\n                    icon\r\n                }\r\n            }\r\n        }\r\n        proyectos: allMdx(\r\n            filter: { fields: { sourceName: { eq: \"proyectos\" } } }\r\n            limit: 6\r\n        ) {\r\n            edges {\r\n                node {\r\n                    id\r\n                    frontmatter {\r\n                        title\r\n                        description\r\n                        image {\r\n                            childImageSharp {\r\n                                fluid(maxWidth: 1000) {\r\n                                    ...GatsbyImageSharpFluid\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    fields {\r\n                        slug\r\n                    }\r\n                }\r\n            }\r\n        }        \r\n    }\r\n`\r\n","\"use strict\";\n\nfunction _interopDefault(e) {\n  return e && \"object\" == typeof e && \"default\" in e ? e.default : e;\n}\n\nvar React = _interopDefault(require(\"react\")),\n    ScrollInto = function ScrollInto(e) {\n  function t() {\n    var e = {\n      behavior: r ? \"smooth\" : \"instant\"\n    };\n    s && (e.block = \"start\", e.inline = \"nearest\"), document.querySelector(n).scrollIntoView(e);\n  }\n\n  var o = e.children,\n      n = e.selector,\n      i = e.smooth,\n      r = void 0 === i || i,\n      l = e.style,\n      c = void 0 === l ? {} : l,\n      a = e.alignToTop,\n      s = void 0 !== a && a,\n      u = e.className,\n      f = void 0 === u ? \"\" : u,\n      d = e.onClick;\n  return React.createElement(\"div\", {\n    style: c,\n    className: f,\n    onClick: function onClick(e) {\n      \"function\" == typeof d ? (d(e), setTimeout(t, 1e3 / 60)) : t();\n    }\n  }, o);\n};\n\nmodule.exports = ScrollInto;","import React from \"react\"\r\n\r\n// Stolen from https://github.com/rrutsche/react-parallax\r\nexport function canUseDOM() {\r\n  return !!(typeof window !== 'undefined' && window.document && window.document.createElement);\r\n}\r\n\r\ntype ParallaxProps = { changePercentage: ({ percentage: number }) => void };\r\nexport default class Parallax extends React.Component<ParallaxProps> {\r\n\r\n    node: React.RefObject<HTMLDivElement>;\r\n    timestamp: number;\r\n    canUseDom: boolean;\r\n    \r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.node = React.createRef()\r\n        this.timestamp = 0\r\n        this.canUseDom = canUseDOM();\r\n        this.state = {\r\n            percentage: 0,\r\n        }\r\n    }\r\n\r\n    getWindowHeight = () => {\r\n        const w = window\r\n        const d = document\r\n        const e = d.documentElement\r\n        const g = d.getElementsByTagName(\"body\")[0]\r\n\r\n        return w.innerHeight || e.clientHeight || g.clientHeight\r\n    }\r\n\r\n    getWindowWidth = () => {\r\n        const w = window\r\n        const d = document\r\n        const e = d.documentElement\r\n        const g = d.getElementsByTagName(\"body\")[0]\r\n\r\n        return w.innerWidth || e.clientWidth || g.clientWidth\r\n    }\r\n\r\n    isScrolledIntoView = (element, offset = 0, useDOM: boolean) => {\r\n      if (!useDOM) {\r\n        return false;\r\n      }\r\n      const elementTop = element.getBoundingClientRect().top - offset;\r\n      const elementBottom = element.getBoundingClientRect().bottom + offset;\r\n      return elementTop <= this.getWindowHeight() && elementBottom >= 0;\r\n  };\r\n\r\n    onScroll = () => {\r\n        const stamp = Date.now()\r\n        if (\r\n            stamp - this.timestamp >= 20 &&\r\n            this.isScrolledIntoView(this.node.current, 100, this.canUseDom)\r\n        ) {\r\n            this.props.changePercentage({\r\n                percentage: 1 - this.getRelativePosition(this.node.current, this.canUseDom),\r\n            })\r\n            this.timestamp = stamp\r\n        }\r\n    }\r\n\r\n    getPercentage = (startpos: number, endpos: number, currentpos: number) => {\r\n        const distance = endpos - startpos;\r\n        const displacement = currentpos - startpos;\r\n        return displacement / distance || 0;\r\n    };\r\n\r\n    getRelativePosition = (node: HTMLElement, useDOM: boolean) => {\r\n        if (!useDOM) {\r\n          return 0;\r\n        }\r\n        const element = node\r\n        const { top, height } = element.getBoundingClientRect()\r\n        const parentHeight = this.getNodeHeight(element)\r\n        const maxHeight = height > parentHeight ? height : parentHeight\r\n        const y = Math.round(top > maxHeight ? maxHeight : top)\r\n\r\n        return this.getPercentage(-height, maxHeight, y)\r\n    }\r\n\r\n    getNodeHeight(node: HTMLElement | Document) {\r\n        if (!node || !(\"clientHeight\" in node)) {\r\n            return this.getWindowHeight()\r\n        }\r\n\r\n        return node.clientHeight\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.getWindowWidth() > 1024) {\r\n            window.addEventListener(\"scroll\", this.onScroll)\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"scroll\", this.onScroll)\r\n    }\r\n\r\n    render() {\r\n        return <div ref={this.node}>{this.props.children}</div>\r\n    }\r\n}\r\n","import React, { useState, useEffect, useRef } from \"react\"\r\nimport { Button } from \"./ui\"\r\nimport Img from \"gatsby-image\"\r\nimport { ArrowRight } from \"react-feather\"\r\n\r\nimport Parallax from \"../utils/parallax\"\r\nimport { IndexPageQuery_projects_edges_node } from \"../pages/__generated__/IndexPageQuery\"\r\n\r\ntype ItemProjectsProps = { data: IndexPageQuery_projects_edges_node, even: boolean };\r\nexport const ItemProjects: React.FC<ItemProjectsProps> = ({ data, even }) => {\r\n    const [state, changeState] = useState({\r\n        animated: false,\r\n        percentage: 0,\r\n    })\r\n\r\n    const getWindowHeight = () => {\r\n        const w = window\r\n        const d = document\r\n        const e = d.documentElement\r\n        const g = d.getElementsByTagName(\"body\")[0]\r\n\r\n        return w.innerHeight || e.clientHeight || g.clientHeight\r\n    }\r\n\r\n    const getWindowWidth = () => {\r\n        const w = window\r\n        const d = document\r\n        const e = d.documentElement\r\n        const g = d.getElementsByTagName(\"body\")[0]\r\n\r\n        return w.innerWidth || e.clientWidth || g.clientWidth\r\n    }\r\n\r\n    const updateState = p => changeState({ ...state, ...p })\r\n\r\n    const percentageThreshold = 0.3\r\n\r\n    let transform = useRef(0);\r\n\r\n    useEffect(() => {\r\n        transform.current = Math.min(getWindowHeight() / 2, 300) * Math.max(0, state.percentage - percentageThreshold);\r\n        \r\n        if(getWindowWidth() < 1024) {\r\n            updateState({\r\n                animated: true\r\n            })\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [state.percentage])\r\n\r\n    if (state.percentage > percentageThreshold && !state.animated)\r\n        updateState({ animated: true })\r\n\r\n    return (\r\n        <Parallax changePercentage={updateState}>\r\n            <div className=\"large-container mx-auto\">\r\n                <div\r\n                    className={`my-4 py-8 lg:py-24 proyectos-item md:flex ${\r\n                        state.animated ? \"begin-animation\" : \"\"\r\n                    } ${even ? \"even flex-row-reverse\" : \"\"}`}\r\n                >\r\n                    <div className=\"relative flex-1\">\r\n                        <div\r\n                            className=\"image relative z-10\"\r\n                            style={{\r\n                                transform: `translate(0px,${transform.current}px)`,\r\n                            }}\r\n                        >\r\n                            <Img\r\n                                fluid={\r\n                                    data.frontmatter.image.childImageSharp.fluid\r\n                                }\r\n                                alt={data.frontmatter.title}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex-1 flex md:px-4 lg:px-6 items-center\">\r\n                        <div\r\n                            className={`flex flex-1 flex-wrap  ${\r\n                                even ? \"md:justify-end md:text-right\" : \"\"\r\n                            }`}\r\n                        >\r\n                            <h3 className=\"text-color-1 text-5xl font-black to-up capitalize\">\r\n                                {data.frontmatter.title}\r\n                            </h3>\r\n                            <p className=\"lg:mt-4 to-up\">\r\n                                {data.frontmatter.description}\r\n                            </p>\r\n                            <Button\r\n                                to={data.fields.slug}\r\n                                label={`Más información ${data.frontmatter.title}`}\r\n                                title={\"Más información\"}\r\n                                iconRight={<ArrowRight />}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Parallax>\r\n    )\r\n}\r\n\r\nexport default ItemProjects;","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { forwardRef } from 'react';\nvar ArrowRight = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"line\", {\n    x1: \"5\",\n    y1: \"12\",\n    x2: \"19\",\n    y2: \"12\"\n  }), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"12 5 19 12 12 19\"\n  }));\n});\nArrowRight.displayName = 'ArrowRight';\nexport default ArrowRight;"],"sourceRoot":""}